# GitHub Linguist Registration for Hew

Tracking document for getting Hew recognized as a language on GitHub
(syntax highlighting, language stats, file detection).

## Status Summary

| Requirement | Status | Details |
|---|---|---|
| TextMate grammar (source.hew) | ✅ Ready | `hew-lang/vscode-hew` — `syntaxes/hew.tmLanguage.json` |
| Tree-sitter grammar | ✅ Ready | `hew-lang/tree-sitter-hew` (public, Apache-2.0) |
| VS Code extension published | ✅ Published | `hew-lang.hew-lang` on VS Code Marketplace |
| Grammar license (Apache-2.0) | ✅ Accepted | Linguist accepts Apache-2.0 grammars |
| Sample files prepared | ✅ Ready | 3 samples in `linguist/samples/` |
| Proposed `languages.yml` entry | ✅ Ready | `linguist/languages.yml.patch` |
| 2,000+ `.hew` files on public GitHub | ❌ **Blocker** | Currently ~0 indexed `.hew` files |
| Public repos with `.hew` files | ❌ **Blocker** | Main `hew-lang/hew` repo is private |

## The Major Blocker

GitHub Linguist requires **at least 2,000 `.hew` files** indexed on public GitHub
repositories in the last year (excluding forks). The search query they use:

```
https://github.com/search?type=code&q=NOT+is%3Afork+path%3A*.hew
```

Currently there are **0 indexed `.hew` files** on GitHub because:
- The main `hew-lang/hew` repo (with 82 examples) is **private**
- Hew is a new language without community adoption yet

### Path to 2,000 Files

This threshold requires real community adoption. Strategies:

1. **Make the main repo public** — immediately adds ~82 `.hew` files
2. **Create a `hew-examples` or `hew-by-example` public repo** with curated examples
3. **Grow community usage** — tutorials, blog posts, open-source projects in Hew
4. **Standard library** — if Hew has `.hew` stdlib files, make that repo public
5. **Wait for organic growth** — the 2,000 file threshold takes time for any new language

Realistically, this will take **months to years** of community growth before
the threshold is met.

## What's Ready Now

### TextMate Grammar

The grammar at `hew-lang/vscode-hew` defines `source.hew` scope and is already
published as a VS Code extension. Linguist uses TextMate grammars for syntax
highlighting. To add it to Linguist:

```bash
# Inside a linguist checkout:
script/add-grammar https://github.com/hew-lang/vscode-hew
```

The grammar repo must:
- [x] Have an accepted license (Apache-2.0 ✅)
- [x] Define a `scopeName` matching `tm_scope` in `languages.yml` (`source.hew` ✅)
- [x] Be publicly accessible on GitHub ✅

### Proposed `languages.yml` Entry

```yaml
Hew:
  type: programming
  color: "#06b6d4"
  extensions:
    - ".hew"
  tm_scope: source.hew
  ace_mode: text
  language_id: # auto-generated by script/update-ids
```

- **color**: `#06b6d4` (cyan-500) — matches Hew's brand identity
- **tm_scope**: `source.hew` — matches the vscode-hew grammar scopeName
- **ace_mode**: `text` — no Ace editor grammar exists (standard for new languages)
- **language_id**: Generated by running `script/update-ids` inside the linguist repo

### Sample Files

Three representative samples in `linguist/samples/`:

| File | Lines | Demonstrates |
|---|---|---|
| `concurrent_counter.hew` | 23 | Actors, spawn, receive handlers, message passing |
| `actor_fibonacci.hew` | 32 | Actor-based computation, functions, print formatting |
| `four_pillars.hew` | 54 | Functions, actors, wire types, supervision trees |

Linguist requires samples that show **real-world code** (not "hello world").
These samples demonstrate Hew's unique features: actors, wire types, supervision.

## Step-by-Step Submission Process

When the `.hew` file threshold is met:

1. **Fork** `github/linguist`
2. **Add the language entry** to `lib/linguist/languages.yml` (see entry above, omit `language_id`)
3. **Add the grammar**:
   ```bash
   script/add-grammar https://github.com/hew-lang/vscode-hew
   ```
4. **Copy samples** to `samples/Hew/` in the linguist repo
5. **Generate language ID**:
   ```bash
   script/update-ids
   ```
6. **Open PR** using the Linguist PR template, including:
   - Link to GitHub search: `https://github.com/search?type=code&q=NOT+is%3Afork+path%3A*.hew`
   - License statement for samples (Apache-2.0, from hew-lang/hew)
   - Link to vscode-hew grammar repo
7. **Wait for review** — Linguist maintainers (@Alhadis, @lildude) will review

## Resources

- [Linguist CONTRIBUTING.md](https://github.com/github/linguist/blob/main/CONTRIBUTING.md)
- [Linguist languages.yml](https://github.com/github/linguist/blob/main/lib/linguist/languages.yml)
- [vscode-hew grammar](https://github.com/hew-lang/vscode-hew/blob/main/syntaxes/hew.tmLanguage.json)
- [tree-sitter-hew](https://github.com/hew-lang/tree-sitter-hew)
- [Accepted grammar licenses](https://github.com/github/linguist/blob/main/vendor/licenses/config.yml)

## Ecosystem Repos

| Repo | Visibility | Purpose |
|---|---|---|
| `hew-lang/hew` | Private | Compiler, runtime, 82 examples |
| `hew-lang/hew.sh` | Private | Documentation website |
| `hew-lang/vscode-hew` | Public | VS Code extension + TextMate grammar |
| `hew-lang/tree-sitter-hew` | Public | Tree-sitter grammar |
| `hew-lang/vim-hew` | Public | Vim/Neovim syntax highlighting |
| `hew-lang/homebrew-hew` | Public | Homebrew tap |
| `hew-lang/hew-studio` | Private | Visual actor IDE |
| `hew-lang/hew.run` | Private | Online playground |
